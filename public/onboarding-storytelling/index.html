<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Improve Onboarding through the Magic of Storytelling | Amin Rashidbeigi</title>
<meta name="keywords" content="onboarding, storytelling">
<meta name="description" content="When you join a new team, you are usually bombarded with a lot of information. You need to familiarize yourself with the company&rsquo;s culture, facilities, and colleagues. Initially, the onboarding process tends to be welcoming and hospitable. However, after a few days, you are expected to quickly learn about the products, services, and data in order to contribute effectively. It can be overwhelming to try to absorb and utilize all of this information, and eventually, the honeymoon phase ends, leaving you feeling stressed and concerned about your credibility.">
<meta name="author" content="Amin Rashidbeigi">
<link rel="canonical" href="https://aminrb.me/onboarding-storytelling/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.2d50b1531bd1b3146d65c5543bd298f7f982786aadee4c223cb3a1cb51906106.css" integrity="sha256-LVCxUxvRsxRtZcVUO9KY9/mCeGqt7kwiPLOhy1GQYQY=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://aminrb.me/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://aminrb.me/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://aminrb.me/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://aminrb.me/apple-touch-icon.png">
<link rel="mask-icon" href="https://aminrb.me/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://aminrb.me/onboarding-storytelling/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  
    
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-S18R7YECZP"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-S18R7YECZP');
        }
      </script>
    
  

<meta property="og:title" content="Improve Onboarding through the Magic of Storytelling" />
<meta property="og:description" content="When you join a new team, you are usually bombarded with a lot of information. You need to familiarize yourself with the company&rsquo;s culture, facilities, and colleagues. Initially, the onboarding process tends to be welcoming and hospitable. However, after a few days, you are expected to quickly learn about the products, services, and data in order to contribute effectively. It can be overwhelming to try to absorb and utilize all of this information, and eventually, the honeymoon phase ends, leaving you feeling stressed and concerned about your credibility." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://aminrb.me/onboarding-storytelling/" />
<meta property="og:image" content="https://aminrb.me/onboarding-storytelling/onboarding-storytelling.jpg" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-27T01:44:04+03:30" />
<meta property="article:modified_time" content="2023-03-27T01:44:04+03:30" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://aminrb.me/onboarding-storytelling/onboarding-storytelling.jpg" />
<meta name="twitter:title" content="Improve Onboarding through the Magic of Storytelling"/>
<meta name="twitter:description" content="When you join a new team, you are usually bombarded with a lot of information. You need to familiarize yourself with the company&rsquo;s culture, facilities, and colleagues. Initially, the onboarding process tends to be welcoming and hospitable. However, after a few days, you are expected to quickly learn about the products, services, and data in order to contribute effectively. It can be overwhelming to try to absorb and utilize all of this information, and eventually, the honeymoon phase ends, leaving you feeling stressed and concerned about your credibility."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://aminrb.me/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Improve Onboarding through the Magic of Storytelling",
      "item": "https://aminrb.me/onboarding-storytelling/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Improve Onboarding through the Magic of Storytelling",
  "name": "Improve Onboarding through the Magic of Storytelling",
  "description": "When you join a new team, you are usually bombarded with a lot of information. You need to familiarize yourself with the company\u0026rsquo;s culture, facilities, and colleagues. Initially, the onboarding process tends to be welcoming and hospitable. However, after a few days, you are expected to quickly learn about the products, services, and data in order to contribute effectively. It can be overwhelming to try to absorb and utilize all of this information, and eventually, the honeymoon phase ends, leaving you feeling stressed and concerned about your credibility.",
  "keywords": [
    "onboarding", "storytelling"
  ],
  "articleBody": "When you join a new team, you are usually bombarded with a lot of information. You need to familiarize yourself with the company’s culture, facilities, and colleagues. Initially, the onboarding process tends to be welcoming and hospitable. However, after a few days, you are expected to quickly learn about the products, services, and data in order to contribute effectively. It can be overwhelming to try to absorb and utilize all of this information, and eventually, the honeymoon phase ends, leaving you feeling stressed and concerned about your credibility.\nYears ago, as a junior, I joined a team of four senior software engineers tasked with managing a massive product consisting of over 20 microservices. During my initial onboarding, the most senior team member responsible for my technical training held a session to explain each service in great detail. Despite the hour-long explanation, I understood very little but was afraid to admit it, fearing he would think I was not intelligent enough. I began coding without grasping the big picture of how my service contributed to the overall product. After two months of confusion, I finally comprehended the function of each microservice and how it contributed to the product.\nAfter years had passed, I had become the most senior software engineer on the team and was responsible for the onboarding process of new members. I could still remember the struggles I faced during my own onboarding, and so I decided to make the experience better for others. After adding the storytelling to the onboarding process, I noticed that the new team members were able to comprehend the system much faster than I had expected.\nIn this article, I will offer some tips that may help you to enhance the onboarding process and increase its efficiency through storytelling. To illustrate this, I will use the example of a new employee joining a fraud detection team at a company.\nI should mention that this article could be useful for anyone who has to onboard a new member or design the onboarding process for a company.\n1. Start with a little bit of history Starting with the company’s and the team’s history will help the new employee to understand the purpose of the team. This helps the new employee understand why certain services, infrastructure, and the product they will be building are necessary. You can do this by:\nProvide some background information to the new employee to contextualize the current product. Explain the team or company’s mission and vision, emphasizing why this mission is crucial to the company. Describe the problem that existed before and why the chosen solution was deemed appropriate. In the case of a fraud detection team, it is essential to explain why fraud detection is crucial for the company. Outline what was done before, the users’ pain points, and how the team and services were initiated.\n2. Tell the story of the users’ journey To effectively onboard new employees to a system, it’s best to explain it through a story. This could be from the perspective of a user or a request.\nIn our example, there are two approaches:\nApproach A: The first approach is to list all the services and their dependencies and explain them one by one. For instance, in our system, there are four services: Service A, Service B, Service C, and Service D. Service A saves user reports, Service B checks the fake-report-detector bot’s opinion, Service C serves a panel to check the report manually, and Service D decides whether the report is valid or not and takes action.\nApproach B: The second approach is to start with the user’s touchpoint and explain the report request journey. For example, when a user clicks on “send report,” the request is sent to Service A, which receives and saves the report’s attributes, including the reporter’s and report’s details. It then sends the report to Service B, which collects the fake-report-detector bot’s opinion. If the bot can’t make a decision, it sends a request to Service C for manual review. After submission, Service D collects the bot’s or Service C’s opinion and takes action. If the report is valid, the user is banned for 10 days; otherwise, the report is ignored.\nThe first approach can make it easy for new employees to forget the services and their responsibilities, as well as how they are interconnected. In contrast, the second approach helps new employees visualize and memorize the relationships between the services more effectively.\n3. Add some flavor by visualizing When explaining the story of components to someone unfamiliar with them, they try to imagine the connections and interactions between them, and may even take notes. Why not provide this information before the onboarding session? You can create a visual representation of all the components and their interconnections.\nThis is a one-time job that can be used for future onboarding sessions and can save a lot of time. As a tip, it’s better to use an editable tool to create the diagram since the components and their interactions may change over time. Instead of creating a new diagram for each onboarding, it’s easier to simply edit the existing one.\nA simple flow of a report request\n4. Avoid low-level details at first When new team member joins, they are usually overwhelmed with information. When it comes to technical information, it is better to provide a big picture that explains the components at a higher level of abstraction and how they contribute to the product and connect with each other. If you try to explain all of the details and exceptions right away, the new member may not understand the big picture and may miss important parts.\nIt is better to take your time to provide low-level details and do so through planned tasks instead of overwhelming the new joiner with all of the information at once.\nOnboarding is one of the most important stages of one’s career in a company. The way a new employee is onboarded can have a lasting impact on their career within the company. A negative experience may result in them leaving the company prematurely, while a positive experience can set the stage for a fulfilling and long-term relationship with the organization.\nThis article proposed some tips to make this experience better for new employees by adding storytelling to their onboarding process. I would like to know your thought; so please let me know your opinion regarding this post by dropping a comment.\n",
  "wordCount" : "1076",
  "inLanguage": "en",
  "image":"https://aminrb.me/onboarding-storytelling/onboarding-storytelling.jpg","datePublished": "2023-03-27T01:44:04+03:30",
  "dateModified": "2023-03-27T01:44:04+03:30",
  "author":{
    "@type": "Person",
    "name": "Amin Rashidbeigi"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://aminrb.me/onboarding-storytelling/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Amin Rashidbeigi",
    "logo": {
      "@type": "ImageObject",
      "url": "https://aminrb.me/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://aminrb.me/" accesskey="h" title="Amin Rashidbeigi (Alt + H)">Amin Rashidbeigi</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="https://aminrb.me/fa/" title="فارسی"
                            aria-label="فارسی">فارسی</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://aminrb.me/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="https://x.com/AminRashidbeigi" title="X">
                    <span>X</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
            <li>
                <a href="https://aminrb.me/side-projects/" title="Side Projects">
                    <span>Side Projects</span>
                </a>
            </li>
            <li>
                <a href="https://aminrb.me/ways-i-can-help/" title="Ways I Can Help">
                    <span>Ways I Can Help</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Improve Onboarding through the Magic of Storytelling
    </h1>
    <div class="post-meta"><span title='2023-03-27 01:44:04 +0330 +0330'>March 27, 2023</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;Amin Rashidbeigi

</div>
  </header> 
<figure class="entry-cover"><a href="https://aminrb.me/onboarding-storytelling/onboarding-storytelling.jpg" target="_blank"
            rel="noopener noreferrer"><img loading="eager" src="https://aminrb.me/onboarding-storytelling/onboarding-storytelling.jpg" alt="Two people are in the metting"></a>
        <p>Photo by charlesdeluvio on Unsplash</p>
</figure><div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#1-start-with-a-little-bit-ofhistory" aria-label="1. Start with a little bit of history">1. Start with a little bit of history</a></li>
                <li>
                    <a href="#2-tell-the-story-of-the-usersjourney" aria-label="2. Tell the story of the users&rsquo; journey">2. Tell the story of the users&rsquo; journey</a></li>
                <li>
                    <a href="#3-add-some-flavor-by-visualizing" aria-label="3. Add some flavor by visualizing">3. Add some flavor by visualizing</a></li>
                <li>
                    <a href="#4-avoid-low-level-details-atfirst" aria-label="4. Avoid low-level details at first">4. Avoid low-level details at first</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>When you join a new team, you are usually bombarded with a lot of information. You need to familiarize yourself with the company&rsquo;s culture, facilities, and colleagues. Initially, the onboarding process tends to be welcoming and hospitable. However, after a few days, you are expected to quickly learn about the products, services, and data in order to contribute effectively. It can be overwhelming to try to absorb and utilize all of this information, and eventually, the honeymoon phase ends, leaving you feeling stressed and concerned about your credibility.</p>
<p>Years ago, as a junior, I joined a team of four senior software engineers tasked with managing a massive product consisting of over 20 microservices. During my initial onboarding, the most senior team member responsible for my technical training held a session to explain each service in great detail. Despite the hour-long explanation, I understood very little but was afraid to admit it, fearing he would think I was not intelligent enough. I began coding without grasping the big picture of how my service contributed to the overall product. After two months of confusion, I finally comprehended the function of each microservice and how it contributed to the product.</p>
<p>After years had passed, I had become the most senior software engineer on the team and was responsible for the onboarding process of new members. I could still remember the struggles I faced during my own onboarding, and so I decided to make the experience better for others. After adding the storytelling to the onboarding process, I noticed that the new team members were able to comprehend the system much faster than I had expected.</p>
<p>In this article, I will offer some tips that may help you to enhance the onboarding process and increase its efficiency through storytelling. To illustrate this, I will use the example of a new employee joining a fraud detection team at a company.</p>
<p>I should mention that this article could be useful for anyone who has to onboard a new member or design the onboarding process for a company.</p>
<h2 id="1-start-with-a-little-bit-ofhistory">1. Start with a little bit of history<a hidden class="anchor" aria-hidden="true" href="#1-start-with-a-little-bit-ofhistory">#</a></h2>
<p>Starting with the company&rsquo;s and the team&rsquo;s history will help the new employee to understand the purpose of the team. This helps the new employee understand why certain services, infrastructure, and the product they will be building are necessary. You can do this by:</p>
<ul>
<li>Provide some background information to the new employee to contextualize the current product.</li>
<li>Explain the team or company&rsquo;s mission and vision, emphasizing why this mission is crucial to the company.</li>
<li>Describe the problem that existed before and why the chosen solution was deemed appropriate.</li>
</ul>
<p>In the case of a fraud detection team, it is essential to explain why fraud detection is crucial for the company. Outline what was done before, the users&rsquo; pain points, and how the team and services were initiated.</p>
<h2 id="2-tell-the-story-of-the-usersjourney">2. Tell the story of the users&rsquo; journey<a hidden class="anchor" aria-hidden="true" href="#2-tell-the-story-of-the-usersjourney">#</a></h2>
<p>To effectively onboard new employees to a system, it&rsquo;s best to explain it through a story. This could be from the perspective of a user or a request.</p>
<p>In our example, there are two approaches:</p>
<p><strong>Approach A:</strong> The first approach is to list all the services and their dependencies and explain them one by one. For instance, in our system, there are four services: Service A, Service B, Service C, and Service D. Service A saves user reports, Service B checks the fake-report-detector bot&rsquo;s opinion, Service C serves a panel to check the report manually, and Service D decides whether the report is valid or not and takes action.</p>
<p><strong>Approach B:</strong> The second approach is to start with the user&rsquo;s touchpoint and explain the report request journey. For example, when a user clicks on &ldquo;send report,&rdquo; the request is sent to Service A, which receives and saves the report&rsquo;s attributes, including the reporter&rsquo;s and report&rsquo;s details. It then sends the report to Service B, which collects the fake-report-detector bot&rsquo;s opinion. If the bot can&rsquo;t make a decision, it sends a request to Service C for manual review. After submission, Service D collects the bot&rsquo;s or Service C&rsquo;s opinion and takes action. If the report is valid, the user is banned for 10 days; otherwise, the report is ignored.</p>
<p>The first approach can make it easy for new employees to forget the services and their responsibilities, as well as how they are interconnected. In contrast, the second approach helps new employees visualize and memorize the relationships between the services more effectively.</p>
<h2 id="3-add-some-flavor-by-visualizing">3. Add some flavor by visualizing<a hidden class="anchor" aria-hidden="true" href="#3-add-some-flavor-by-visualizing">#</a></h2>
<p>When explaining the story of components to someone unfamiliar with them, they try to imagine the connections and interactions between them, and may even take notes. Why not provide this information before the onboarding session? You can create a visual representation of all the components and their interconnections.</p>
<p>This is a one-time job that can be used for future onboarding sessions and can save a lot of time. As a tip, it&rsquo;s better to use an editable tool to create the diagram since the components and their interactions may change over time. Instead of creating a new diagram for each onboarding, it&rsquo;s easier to simply edit the existing one.</p>
<p><img loading="lazy" src="report-flow.png" alt="A simple flow of a report request"  />

<em>A simple flow of a report request</em></p>
<h2 id="4-avoid-low-level-details-atfirst">4. Avoid low-level details at first<a hidden class="anchor" aria-hidden="true" href="#4-avoid-low-level-details-atfirst">#</a></h2>
<p>When new team member joins, they are usually overwhelmed with information. When it comes to technical information, it is better to provide a big picture that explains the components at a higher level of abstraction and how they contribute to the product and connect with each other. If you try to explain all of the details and exceptions right away, the new member may not understand the big picture and may miss important parts.</p>
<p>It is better to take your time to provide low-level details and do so through planned tasks instead of overwhelming the new joiner with all of the information at once.</p>
<hr>
<p>Onboarding is one of the most important stages of one&rsquo;s career in a company. The way a new employee is onboarded can have a lasting impact on their career within the company. A negative experience may result in them leaving the company prematurely, while a positive experience can set the stage for a fulfilling and long-term relationship with the organization.</p>
<p>This article proposed some tips to make this experience better for new employees by adding storytelling to their onboarding process. I would like to know your thought; so please let me know your opinion regarding this post by dropping a comment.</p>


<hr>
<i>
    If you liked this post and want to see more, follow me at
    <a href="https://twitter.com/AminRashidbeigi" target="_blank">
        X/Twitter
    </a>.
</i>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://aminrb.me/tags/onboarding/">Onboarding</a></li>
      <li><a href="https://aminrb.me/tags/storytelling/">Storytelling</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://aminrb.me/extra-work/">
    <span class="title">« Prev</span>
    <br>
    <span>Navigating Extra Work in Programming Teams</span>
  </a>
  <a class="next" href="https://aminrb.me/engineering-managers-avoid-technical-decay/">
    <span class="title">Next »</span>
    <br>
    <span>How Engineering Managers Can Avoid Technical Decay</span>
  </a>
</nav>

  </footer>
<script src="https://giscus.app/client.js"
    data-repo="aminrashidbeigi/aminrashidbeigi.github.io"
    data-repo-id="MDEwOlJlcG9zaXRvcnkxNDI3NjI0ODk="
    data-category="Announcements"
    data-category-id="DIC_kwDOCIJh-c4CeNpD"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="light_protanopia"
    data-lang="en"
    data-loading="lazy"
    crossorigin="anonymous"
    async>
</script>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2025 <a href="https://aminrb.me/">Amin Rashidbeigi</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
